(this.webpackJsonpvideojs=this.webpackJsonpvideojs||[]).push([[0],{24:function(t,e,n){t.exports={wrapper:"Video_wrapper__3Z0Pe","vjs-resolution-button":"Video_vjs-resolution-button__10Glm","vjs-icon-placeholder":"Video_vjs-icon-placeholder__2RWlV","vjs-resolution-button-label":"Video_vjs-resolution-button-label__35Chm","vjs-menu":"Video_vjs-menu__2CBw8","vjs-menu-content":"Video_vjs-menu-content__3vyy2","vjs-menu-item":"Video_vjs-menu-item__3DE4_",auto:"Video_auto__5kQIj","vjs-menu-item-text":"Video_vjs-menu-item-text__39xvR","video-js":"Video_video-js__1ODmu","vjs-big-play-button":"Video_vjs-big-play-button__1b-4X","theme-high-contrast":"Video_theme-high-contrast__3K75L","vjs-poster":"Video_vjs-poster__Li1Eb","vjs-error-display":"Video_vjs-error-display__1ol74","vjs-track-setting":"Video_vjs-track-setting__30-ZF","vjs-fluid":"Video_vjs-fluid__wjVr5","vjs-16-9":"Video_vjs-16-9__YcJ0s","vjs-4-3":"Video_vjs-4-3__3J_NU","vjs-tech":"Video_vjs-tech__1TcJ2","vjs-control-bar":"Video_vjs-control-bar__1nwSX",hasChapters:"Video_hasChapters__2AERC",transcriptContainer:"Video_transcriptContainer__2YfRE"}},45:function(t,e,n){},47:function(t,e){},70:function(t,e,n){},71:function(t,e,n){"use strict";n.r(e);var i=n(6),r=n.n(i),o=n(31),s=n.n(o),a=(n(45),n(20)),c=n.n(a),u=n(32),l=n(40),d=n(33),v=n.n(d),p=n(5),h=(n(59),n(60),n(61),n(25)),f=n(9),_=n(10),j=n(15),m=n(12),b=n(11),g=n(39),y=p.a.getComponent("MenuButton"),O=p.a.getComponent("Menu"),B=p.a.getComponent("MenuItem"),T=p.a.dom,x=function(t){Object(m.a)(n,t);var e=Object(b.a)(n);function n(t){var i;return Object(f.a)(this,n),(i=e.call(this,t,{title:"Transcription"})).items=void 0,i.hideThreshold=void 0,i}return Object(_.a)(n,[{key:"createItems",value:function(){return[]}},{key:"createMenu",value:function(){var t,e=new O(this.player_,{menuButton:this});if(this.hideThreshold=0,null===(t=this.options_)||void 0===t?void 0:t.title){var n=T.createEl("li",{className:"vjs-menu-title",innerHTML:this.options_.title,tabIndex:-1}),i=new B(this.player_,{el:n});this.hideThreshold+=1,e.addItem(i)}if(this.items=this.createItems.call(this),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e}}]),n}(y),V=function(t){Object(m.a)(n,t);var e=Object(b.a)(n);function n(t,i,r,o){var s;return Object(f.a)(this,n),(s=e.call(this,t,{label:i.label,selectable:!0,selected:i.selected||!1})).item=void 0,s.transcriptButton=void 0,s.plugin=void 0,s.isSelected_=void 0,s.item=i,s.transcriptButton=r,s.plugin=o,s.item.selected&&s.plugin.setTranscription(s.item.value),s}return Object(_.a)(n,[{key:"handleClick",value:function(){for(var t=this.isSelected_,e=0;e<Number(null===(n=this.transcriptButton.items)||void 0===n?void 0:n.length);e+=1){var n,i;null===(i=this.transcriptButton.items)||void 0===i||i[e].selected(!1)}this.plugin.setTranscription(t?null:this.item.value),this.selected(!t)}}]),n}(p.a.getComponent("MenuItem")),C=p.a.getPlugin("plugin"),k=p.a.registerPlugin||p.a.plugin,w=function(t){Object(m.a)(n,t);var e=Object(b.a)(n);function n(t,i){var r;return Object(f.a)(this,n),(r=e.call(this,t,i)).player=void 0,r.config=void 0,r.items=void 0,r.transcriptionButton=void 0,r.player=t,r.config=i,r.on("addTranscription",(function(t,e){var n=e.data;r.addTranscription.call(Object(j.a)(r),n)})),r}return Object(_.a)(n,[{key:"createTranscriptionButton",value:function(){this.transcriptionButton=new x(this.player);var t=this.player.controlBar.children().length-2,e=this.player.controlBar.addChild(this.transcriptionButton,{componentClass:"subtitles"},this.config.placementIndex||t);e.addClass("vjs-subtitles-button"),this.setButtonInnerText("Transcription"),e.removeClass("vjs-hidden")}},{key:"getTranscriptionMenuItem",value:function(t){var e=Object.assign({},t),n=this.player,i=this.transcriptionButton||new x(n);return e.id===this.config.defaultTranscriptId&&(e.selected=!0),new V(n,e,i,this)}},{key:"addTranscription",value:function(t){this.items=[].concat(Object(h.a)(this.items||[]),Object(h.a)(t)).filter((function(t,e,n){return n.findIndex((function(e){return e.value===t.value}))===e})),this.items&&this.createTranscriptionButton();var e=this.items.map(this.getTranscriptionMenuItem.bind(this));this.transcriptionButton&&(this.transcriptionButton.createItems=function(){return e},this.transcriptionButton.update.call(this.transcriptionButton))}},{key:"setTranscription",value:function(t){if(t){var e=Object(g.parse)(t).entries;console.log(t);var n=e.map((function(t){return"<p>".concat(t.text,"</p>")})).join("\n");this.config.container.innerHTML=n}else this.config.container.innerHTML=""}},{key:"setButtonInnerText",value:function(t){this.transcriptionButton&&(this.transcriptionButton.menuButton_.$(".vjs-control-text").innerHTML=t)}}]),n}(C);k("transcriptionSelector",w);var I=n(24),E=n.n(I),M=n(7),L=function(t){var e=t.src,n=t.options,r=t.className,o=t.transcriptons,s=t.onError,a=void 0===s?function(){}:s,d=i.useRef(null),h=i.useRef(null),f=i.useRef(),_=i.useRef(!1);i.useEffect((function(){if(f.current&&f.current.dispose&&f.current.dispose(),d.current)return f.current=Object(p.a)(d.current,Object(l.a)({controls:!0,fluid:!0,plugins:{hlsQualitySelector:{displayCurrentQuality:!0},transcriptionSelector:{container:h.current}}},n),(function(){var t;null===(t=f.current)||void 0===t||t.src([{src:e,type:"application/x-mpegURL"}])})),function(){var t;null===(t=f.current)||void 0===t||t.dispose()}}),[]),i.useEffect((function(){var t;null===(t=f.current)||void 0===t||t.width(null===n||void 0===n?void 0:n.width)}),[null===n||void 0===n?void 0:n.width]),i.useEffect((function(){var t;null===(t=f.current)||void 0===t||t.height(null===n||void 0===n?void 0:n.height)}),[null===n||void 0===n?void 0:n.height]),i.useEffect((function(){var t;null===(t=f.current)||void 0===t||t.src([{src:e,type:"application/x-mpegURL"}])}),[e]);var j=function(){var t=Object(u.a)(c.a.mark((function t(e){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map((function(t){return fetch(t.src)})));case 2:return n=t.sent,t.next=5,Promise.all(n.map((function(t){return t.text()})));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return i.useEffect((function(){j(o).then((function(t){var e,n=o.map((function(e,n){return{id:e.id,label:e.label,value:t[n]}}));null===(e=f.current)||void 0===e||e.transcriptionSelector().trigger("addTranscription",{data:n})})).catch((function(){}))}),[o]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:v()(r,E.a.wrapper),children:Object(M.jsx)("video",{ref:d,className:"video-js",onError:function(t){_.current&&a(t)}})}),Object(M.jsx)("div",{ref:h,className:E.a.transcriptContainer})]})},R=(n(70),"".concat("https://tranquil-ocean-64031.herokuapp.com","/2.P_13.4_ForceandMotionQC_1.m3u8")),S=[{id:"english",src:"".concat("https://tranquil-ocean-64031.herokuapp.com","/force_and_motion_en.vtt"),label:"english"},{id:"spanish",src:"".concat("https://tranquil-ocean-64031.herokuapp.com","/force_and_motion_spa.vtt"),label:"spanish"}],N=function(){return Object(M.jsx)("div",{className:"App",children:Object(M.jsx)(L,{src:R,transcriptons:S})})},P=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,o=e.getLCP,s=e.getTTFB;n(t),i(t),r(t),o(t),s(t)}))};s.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(N,{})}),document.getElementById("root")),P()}},[[71,1,2]]]);
//# sourceMappingURL=main.1c7a8a09.chunk.js.map