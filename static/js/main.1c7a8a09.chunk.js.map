{"version":3,"sources":["components/video/Video.module.css","components/video/plugins/transcription/components/Button.ts","components/video/plugins/transcription/components/MenuItem.ts","components/video/plugins/transcription/plugin.ts","components/video/Video.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","VideoJsButtonClass","videojs","getComponent","VideoJsMenuClass","VideoJsComponent","Dom","dom","Button","player","title","items","hideThreshold","menu","this","player_","menuButton","options_","titleEl","createEl","className","innerHTML","tabIndex","titleComponent","el","addItem","createItems","call","i","length","MenuItem","item","transcriptButton","plugin","label","selectable","selected","isSelected_","setTranscription","value","Number","Plugin","getPlugin","registerPlugin","TranscriptionSelector","options","config","transcriptionButton","on","event","data","addTranscription","TranscriptionButton","placementIndex","controlBar","children","transcriptionButtonInstance","addChild","componentClass","addClass","setButtonInnerText","removeClass","id","defaultTranscriptId","TranscriptionMenuItem","filter","index","self","findIndex","selfItem","createTranscriptionButton","menuItems","map","getTranscriptionMenuItem","bind","update","parsedValue","parse","entries","console","log","html","entry","text","join","container","menuButton_","$","Video","src","transcriptons","onError","videoRef","React","transcriptonContainerRef","playerRef","posterError","current","dispose","controls","fluid","plugins","hlsQualitySelector","displayCurrentQuality","transcriptionSelector","type","width","height","fetchTranscription","a","Promise","all","transcripton","fetch","responses","response","then","texts","preparedTranscription","trigger","catch","classNames","styles","wrapper","ref","transcriptContainer","process","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1c7a8a09.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Video_wrapper__3Z0Pe\",\"vjs-resolution-button\":\"Video_vjs-resolution-button__10Glm\",\"vjs-icon-placeholder\":\"Video_vjs-icon-placeholder__2RWlV\",\"vjs-resolution-button-label\":\"Video_vjs-resolution-button-label__35Chm\",\"vjs-menu\":\"Video_vjs-menu__2CBw8\",\"vjs-menu-content\":\"Video_vjs-menu-content__3vyy2\",\"vjs-menu-item\":\"Video_vjs-menu-item__3DE4_\",\"auto\":\"Video_auto__5kQIj\",\"vjs-menu-item-text\":\"Video_vjs-menu-item-text__39xvR\",\"video-js\":\"Video_video-js__1ODmu\",\"vjs-big-play-button\":\"Video_vjs-big-play-button__1b-4X\",\"theme-high-contrast\":\"Video_theme-high-contrast__3K75L\",\"vjs-poster\":\"Video_vjs-poster__Li1Eb\",\"vjs-error-display\":\"Video_vjs-error-display__1ol74\",\"vjs-track-setting\":\"Video_vjs-track-setting__30-ZF\",\"vjs-fluid\":\"Video_vjs-fluid__wjVr5\",\"vjs-16-9\":\"Video_vjs-16-9__YcJ0s\",\"vjs-4-3\":\"Video_vjs-4-3__3J_NU\",\"vjs-tech\":\"Video_vjs-tech__1TcJ2\",\"vjs-control-bar\":\"Video_vjs-control-bar__1nwSX\",\"hasChapters\":\"Video_hasChapters__2AERC\",\"transcriptContainer\":\"Video_transcriptContainer__2YfRE\"};","import videojs from \"video.js\";\n\nconst VideoJsButtonClass = videojs.getComponent(\"MenuButton\");\nconst VideoJsMenuClass = videojs.getComponent(\"Menu\");\nconst VideoJsComponent = videojs.getComponent(\"MenuItem\");\nconst Dom = videojs.dom;\n\nclass Button extends VideoJsButtonClass {\n  items?: videojs.MenuItem[];\n  hideThreshold?: number;\n\n  constructor(player: videojs.Player) {\n    super(player, { title: \"Transcription\" });\n  }\n\n  createItems(): videojs.MenuItem[] {\n    return [];\n  }\n\n  createMenu(): videojs.Menu {\n    const menu: videojs.Menu = new VideoJsMenuClass(this.player_, {\n      menuButton: this,\n    });\n\n    this.hideThreshold = 0;\n\n    // Add a title list item to the top\n    if (this.options_?.title) {\n      const titleEl = Dom.createEl(\"li\", {\n        className: \"vjs-menu-title\",\n        innerHTML: this.options_.title,\n        tabIndex: -1,\n      });\n      const titleComponent = new VideoJsComponent(this.player_, {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        el: titleEl,\n      });\n\n      this.hideThreshold += 1;\n\n      menu.addItem(titleComponent);\n    }\n\n    this.items = this.createItems.call(this);\n\n    if (this.items) {\n      // Add menu items to the menu\n      for (let i = 0; i < this.items.length; i++) {\n        menu.addItem(this.items[i]);\n      }\n    }\n\n    return menu;\n  }\n}\n\nexport default Button;\n","import videojs from \"video.js\";\nimport Button from \"./Button\";\nimport * as Types from \"../types\";\n\nconst VideoJsMenuItemClass = videojs.getComponent(\"MenuItem\");\n\nclass MenuItem extends VideoJsMenuItemClass {\n  item: Types.Item;\n  transcriptButton: Button;\n  plugin: Types.Plugin;\n\n  private isSelected_?: boolean;\n\n  constructor(\n    player: videojs.Player,\n    item: Types.Item,\n    transcriptButton: Button,\n    plugin: Types.Plugin\n  ) {\n    super(player, {\n      label: item.label,\n      selectable: true,\n      selected: item.selected || false,\n    });\n    this.item = item;\n    this.transcriptButton = transcriptButton;\n    this.plugin = plugin;\n\n    if (this.item.selected) {\n      this.plugin.setTranscription(this.item.value);\n    }\n  }\n\n  handleClick(): void {\n    const selected = this.isSelected_;\n    for (let i = 0; i < Number(this.transcriptButton.items?.length); i += 1) {\n      this.transcriptButton.items?.[i].selected(false);\n    }\n\n    this.plugin.setTranscription(selected ? null : this.item.value);\n    this.selected(!selected);\n  }\n}\n\nexport default MenuItem;\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { parse } from \"@plussub/srt-vtt-parser\";\nimport videojs from \"video.js\";\nimport TranscriptionButton from \"./components/Button\";\nimport TranscriptionMenuItem from \"./components/MenuItem\";\nimport * as Types from \"./types\";\n\nconst Plugin = videojs.getPlugin(\"plugin\");\n\nconst registerPlugin = videojs.registerPlugin || videojs.plugin;\n\nclass TranscriptionSelector extends Plugin {\n  player: videojs.Player;\n  config: Types.PlayerConfig;\n\n  private items?: Types.Item[];\n  private transcriptionButton?: TranscriptionButton;\n\n  constructor(player: videojs.Player, options: Types.PlayerConfig) {\n    super(player, options);\n    this.player = player;\n    this.config = options;\n\n    this.on(\"addTranscription\", (event, { data }) => {\n      this.addTranscription.call(this, data);\n    });\n  }\n\n  createTranscriptionButton(): void {\n    this.transcriptionButton = new TranscriptionButton(this.player);\n\n    const placementIndex = this.player.controlBar.children().length - 2;\n    const transcriptionButtonInstance = this.player.controlBar.addChild(\n      this.transcriptionButton,\n      { componentClass: \"subtitles\" },\n      this.config.placementIndex || placementIndex\n    );\n\n    // for change icon create new class like this\n    // .vjs-icon-audio:before, .video-js .vjs-audio-button .vjs-icon-placeholder:before\n    // and set `content: file`\n    transcriptionButtonInstance.addClass(\"vjs-subtitles-button\");\n    this.setButtonInnerText(\"Transcription\");\n    transcriptionButtonInstance.removeClass(\"vjs-hidden\");\n  }\n\n  // { ...item } === copy item\n  getTranscriptionMenuItem({ ...item }: Types.Item): TranscriptionMenuItem {\n    const player = this.player;\n    const transcriptionButton =\n      this.transcriptionButton || new TranscriptionButton(player);\n\n    if (item.id === this.config.defaultTranscriptId) {\n      item.selected = true;\n    }\n    return new TranscriptionMenuItem(player, item, transcriptionButton, this);\n  }\n\n  addTranscription(items: Types.Item[]): void {\n    // unique\n    this.items = [...(this.items || []), ...items].filter(\n      (item, index, self) =>\n        self.findIndex((selfItem) => selfItem.value === item.value) === index\n    );\n    if (this.items) {\n      this.createTranscriptionButton();\n    }\n\n    const menuItems = this.items.map(this.getTranscriptionMenuItem.bind(this));\n\n    if (this.transcriptionButton) {\n      this.transcriptionButton.createItems = function () {\n        return menuItems;\n      };\n      this.transcriptionButton.update.call(this.transcriptionButton);\n    }\n  }\n\n  setTranscription(value: string): void {\n    // change this function, i don't have a time\n    if (value) {\n      const parsedValue = parse(value).entries;\n      console.log(value);\n      const html = parsedValue\n        .map((entry) => `<p>${entry.text}</p>`)\n        .join(\"\\n\");\n      this.config.container.innerHTML = html;\n    } else {\n      this.config.container.innerHTML = \"\";\n    }\n  }\n\n  setButtonInnerText(text: string): void {\n    if (this.transcriptionButton) {\n      this.transcriptionButton.menuButton_.$(\".vjs-control-text\").innerHTML =\n        text;\n    }\n  }\n}\n\nregisterPlugin(\"transcriptionSelector\", TranscriptionSelector);\n\nexport default TranscriptionSelector;\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport * as React from \"react\";\nimport classNames from \"classnames\";\nimport videojs from \"video.js\";\nimport \"video.js/dist/video-js.css\";\nimport \"videojs-hls-quality-selector\";\nimport \"videojs-hls-quality-selector/dist/videojs-hls-quality-selector.css\";\nimport \"./plugins/transcription/plugin\";\nimport { VideoTypes } from \"./duck\";\nimport styles from \"./Video.module.css\";\n\ninterface VideoProps {\n  src: string;\n  className?: string;\n  options?: any;\n  autoResolution?: boolean;\n  transcriptons: VideoTypes.Transcription[];\n  onError?: React.DOMAttributes<HTMLVideoElement>[\"onError\"];\n}\n\ntype VideoPlayer = videojs.Player & {\n  updateSrc: (...args: any[]) => void;\n  transcriptionSelector: () => videojs.Player;\n};\n\nconst Video: React.FC<VideoProps> = ({\n  src,\n  options,\n  className,\n  transcriptons,\n  onError = () => {},\n}) => {\n  const videoRef = React.useRef<HTMLVideoElement>(null);\n  const transcriptonContainerRef = React.useRef<HTMLDivElement>(null);\n  const playerRef = React.useRef<VideoPlayer>();\n\n  const posterError = React.useRef(false);\n\n  React.useEffect(() => {\n    if (playerRef.current && playerRef.current.dispose) {\n      playerRef.current.dispose();\n    }\n    if (!videoRef.current) {\n      return;\n    }\n    playerRef.current = videojs(\n      videoRef.current,\n      {\n        controls: true,\n        fluid: true,\n        plugins: {\n          hlsQualitySelector: { displayCurrentQuality: true },\n          transcriptionSelector: {\n            // defaultTranscriptId: \"english\",\n            container: transcriptonContainerRef.current,\n          },\n        },\n        ...options,\n      },\n      () => {\n        playerRef.current?.src([{ src, type: \"application/x-mpegURL\" }]);\n      }\n    ) as VideoPlayer;\n\n    return () => {\n      playerRef.current?.dispose();\n    };\n  }, []);\n\n  React.useEffect(() => {\n    playerRef.current?.width(options?.width);\n  }, [options?.width]);\n\n  React.useEffect(() => {\n    playerRef.current?.height(options?.height);\n  }, [options?.height]);\n\n  React.useEffect(() => {\n    playerRef.current?.src([{ src, type: \"application/x-mpegURL\" }]);\n  }, [src]);\n\n  // use smth else\n  const fetchTranscription = async (\n    transcriptons: VideoTypes.Transcription[]\n  ) => {\n    const responses = await Promise.all(\n      transcriptons.map((transcripton) => fetch(transcripton.src))\n    );\n    return await Promise.all(responses.map((response) => response.text()));\n  };\n\n  React.useEffect(() => {\n    fetchTranscription(transcriptons)\n      .then((texts) => {\n        const preparedTranscription = transcriptons.map(\n          (transcripton, index) => ({\n            id: transcripton.id,\n            label: transcripton.label,\n            value: texts[index],\n          })\n        );\n\n        playerRef.current\n          ?.transcriptionSelector()\n          .trigger(\"addTranscription\", { data: preparedTranscription });\n      })\n      .catch(() => {});\n  }, [transcriptons]);\n\n  return (\n    <>\n      <div className={classNames(className, styles.wrapper)}>\n        <video\n          ref={videoRef}\n          className=\"video-js\"\n          onError={(event) => {\n            if (posterError.current) {\n              onError(event);\n            }\n          }}\n        />\n      </div>\n      <div\n        ref={transcriptonContainerRef}\n        className={styles.transcriptContainer}\n      />\n    </>\n  );\n};\n\nexport default Video;\n","import React from \"react\";\nimport { VideoTypes } from \"./components/video/duck\";\nimport { Video } from \"./components\";\nimport \"./App.css\";\n\nconst src = `${process.env.REACT_APP_URL}/2.P_13.4_ForceandMotionQC_1.m3u8`;\n\nconst transcriptons: VideoTypes.Transcription[] = [\n  {\n    id: \"english\",\n    src: `${process.env.REACT_APP_URL}/force_and_motion_en.vtt`,\n    label: \"english\",\n  },\n  {\n    id: \"spanish\",\n    src: `${process.env.REACT_APP_URL}/force_and_motion_spa.vtt`,\n    label: \"spanish\",\n  },\n];\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <Video src={src} transcriptons={transcriptons} />\n    </div>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}